(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{1791:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var slicedToArray=__webpack_require__(22),slicedToArray_default=__webpack_require__.n(slicedToArray),style=__webpack_require__(1),style_default=__webpack_require__.n(style),react=__webpack_require__(0),react_default=__webpack_require__.n(react),react_hooks_esm=__webpack_require__(48),index_es=__webpack_require__(1921),LanguageContext=__webpack_require__(306),taggedTemplateLiteral=__webpack_require__(2),taggedTemplateLiteral_default=__webpack_require__.n(taggedTemplateLiteral),src=__webpack_require__(3),src_default=__webpack_require__.n(src),UserDigest=__webpack_require__(66);function _templateObject(){var data=taggedTemplateLiteral_default()(["\n  query SearchUsers($search: String!, $exclude: SearchExclude) {\n    search(input: { key: $search, type: User, first: 5, exclude: $exclude }) {\n      edges {\n        node {\n          ... on User {\n            ...UserDigestMiniUser\n          }\n        }\n      }\n    }\n  }\n  ","\n"]);return _templateObject=function _templateObject(){return data},data}var searchUsers=src_default()(_templateObject(),UserDigest.a.Mini.fragments.user),events=__webpack_require__(101),content_comment=__webpack_require__(186),_defaultExport=[".ql-container{position:relative;box-sizing:border-box;height:100%;}",".ql-container.ql-disabled .ql-tooltip{visibility:hidden;}",".ql-clipboard{position:absolute;top:50%;left:-100000px;height:1px;overflow-y:hidden;}",".ql-clipboard p{padding:0;margin:0;}",".ql-editor{height:100%;overflow-y:auto;outline:none;}",".ql-editor>*{cursor:text;}",".ql-editor.ql-blank::before{position:absolute;top:0;left:0;color:#b3b3b3;pointer-events:none;content:attr(data-placeholder);}",".ql-bubble .ql-toolbar{background:#fff;border:solid 1px rgba(0,0,0,0.08);border-radius:0.25rem;box-shadow:0 4px 16px rgba(0,0,0,0.12);}",".ql-bubble .ql-toolbar::after{display:table;clear:both;content:'';}",".ql-bubble .ql-toolbar button{float:left;width:28px;height:24px;padding:3px 5px;}",".ql-bubble .ql-toolbar svg{float:left;height:100%;}",".ql-bubble .ql-toolbar:active:hover{outline:none;}",".ql-bubble .ql-toolbar input.ql-image[type='file']{display:none;}",".ql-bubble .ql-toolbar button:hover,.ql-bubble .ql-toolbar button:focus,.ql-bubble .ql-toolbar button.ql-active{color:#c0a46b;}",".ql-bubble .ql-toolbar button:hover .ql-fill,.ql-bubble .ql-toolbar button:hover .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button:focus .ql-fill,.ql-bubble .ql-toolbar button:focus .ql-stroke.ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-fill,.ql-bubble .ql-toolbar button.ql-active .ql-stroke.ql-fill{fill:#c0a46b;}",".ql-bubble .ql-toolbar button:hover .ql-stroke,.ql-bubble .ql-toolbar button:hover .ql-stroke-miter,.ql-bubble .ql-toolbar button:focus .ql-stroke,.ql-bubble .ql-toolbar button:focus .ql-stroke-miter,.ql-bubble .ql-toolbar button.ql-active .ql-stroke,.ql-bubble .ql-toolbar button.ql-active .ql-stroke-miter{stroke:#c0a46b;}","@media (pointer:coarse){.ql-bubble .ql-toolbar .ql-bubble .ql-toolbar button:hover:not(.ql-active){color:#333;}.ql-bubble .ql-toolbar .ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-fill,.ql-bubble .ql-toolbar .ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke.ql-fill{fill:#333;}.ql-bubble .ql-toolbar .ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke,.ql-bubble .ql-toolbar .ql-bubble .ql-toolbar button:hover:not(.ql-active) .ql-stroke-miter{stroke:#333;}}",".ql-bubble{box-sizing:border-box;}",".ql-bubble *{box-sizing:border-box;}",".ql-bubble .ql-hidden{display:none;}",".ql-bubble .ql-out-bottom,.ql-bubble .ql-out-top{visibility:hidden;}",".ql-bubble .ql-tooltip{position:absolute;-webkit-transform:translateY(10px);-ms-transform:translateY(10px);transform:translateY(10px);}",".ql-bubble .ql-tooltip a{-webkit-text-decoration:none;text-decoration:none;cursor:pointer;}",".ql-bubble .ql-tooltip.ql-flip{-webkit-transform:translateY(-10px);-ms-transform:translateY(-10px);transform:translateY(-10px);}",".ql-bubble .ql-formats{display:inline-block;vertical-align:middle;}",".ql-bubble .ql-formats::after{display:table;clear:both;content:'';}",".ql-bubble .ql-stroke{fill:none;stroke:#333;stroke-linecap:round;stroke-linejoin:round;stroke-width:2;}",".ql-bubble .ql-stroke-miter{fill:none;stroke:#333;stroke-miterlimit:10;stroke-width:2;}",".ql-bubble .ql-fill,.ql-bubble .ql-stroke.ql-fill{fill:#333;}",".ql-bubble .ql-empty{fill:none;}",".ql-bubble .ql-even{fill-rule:evenodd;}",".ql-bubble .ql-thin,.ql-bubble .ql-stroke.ql-thin{stroke-width:1;}",".ql-bubble .ql-transparent{opacity:0.4;}",".ql-bubble .ql-direction svg:last-child{display:none;}",".ql-bubble .ql-direction.ql-active svg:last-child{display:inline;}",".ql-bubble .ql-direction.ql-active svg:first-child{display:none;}",".ql-bubble .ql-toolbar .ql-formats{margin:0.5rem 1rem;}",".ql-bubble .ql-toolbar .ql-formats+.ql-formats{margin-left:0;}",".ql-bubble .ql-tooltip-arrow{position:absolute;left:50%;display:block;margin-top:1px;margin-left:-6px;border-right:6px solid transparent;border-left:6px solid transparent;}",".ql-bubble .ql-tooltip-arrow::before{position:absolute;left:-8px;z-index:-1;content:'';border-right:8px solid transparent;border-left:8px solid transparent;}",".ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow{top:-6px;border-bottom:6px solid #fff;}",".ql-bubble .ql-tooltip:not(.ql-flip) .ql-tooltip-arrow::before{top:-2px;border-bottom:8px solid rgba(0,0,0,0.08);}",".ql-bubble .ql-tooltip.ql-flip .ql-tooltip-arrow{bottom:-6px;border-top:6px solid #fff;}",".ql-bubble .ql-tooltip.ql-flip .ql-tooltip-arrow::before{bottom:-2px;border-top:8px solid rgba(0,0,0,0.08);}",".ql-bubble .ql-tooltip.ql-editing .ql-tooltip-editor{display:block;}",".ql-bubble .ql-tooltip.ql-editing .ql-formats{visibility:hidden;}",".ql-bubble .ql-tooltip-editor{display:none;}",".ql-bubble .ql-tooltip-editor input[type='text']{position:absolute;width:100%;height:100%;padding:0.5rem 1rem;font-size:0.875rem;color:#333;background:transparent;border:none;outline:none;}"];_defaultExport.__hash="2344288495";var quill_bubble=_defaultExport,Menu=__webpack_require__(1780),Spinner=__webpack_require__(510),__jsx=react_default.a.createElement,UserList_DropdownUserList=function DropdownUserList(_ref){var users=_ref.users,_onClick=_ref.onClick,loading=_ref.loading;return __jsx(Menu.a,{width:"md"},loading?__jsx(Menu.a.Item,null,__jsx(Spinner.a,null)):users.map((function(user){return __jsx(Menu.a.Item,{spacing:["xtight","base"],onClick:function onClick(){_onClick(user)},key:user.id},__jsx(UserDigest.a.Mini,{user:user,direction:"column",hasAvatar:!0,hasDisplayName:!0,hasUserName:!0,disabled:!0}))})))};try{UserList_DropdownUserList.displayName="DropdownUserList",UserList_DropdownUserList.__docgenInfo={description:"",displayName:"DropdownUserList",props:{users:{defaultValue:null,description:"",name:"users",required:!0,type:{name:"UserDigestMiniUser[]"}},onClick:{defaultValue:null,description:"",name:"onClick",required:!0,type:{name:"(user: UserDigestMiniUser) => void"}},loading:{defaultValue:null,description:"",name:"loading",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Dropdowns/UserList/index.tsx#DropdownUserList"]={docgenInfo:UserList_DropdownUserList.__docgenInfo,name:"DropdownUserList",path:"src/components/Dropdowns/UserList/index.tsx#DropdownUserList"})}catch(__react_docgen_typescript_loader_error){}var MentionUserList_jsx=react_default.a.createElement,MentionUserList_MentionUserList=function MentionUserList(_ref){var mentionLoading=_ref.mentionLoading,mentionSelection=_ref.mentionSelection,mentionUsers=_ref.mentionUsers;return MentionUserList_jsx(UserList_DropdownUserList,{loading:mentionLoading,onClick:mentionSelection,users:mentionUsers})},Editor_MentionUserList=MentionUserList_MentionUserList;try{MentionUserList_MentionUserList.displayName="MentionUserList",MentionUserList_MentionUserList.__docgenInfo={description:"",displayName:"MentionUserList",props:{mentionLoading:{defaultValue:null,description:"",name:"mentionLoading",required:!1,type:{name:"boolean"}},mentionSelection:{defaultValue:null,description:"",name:"mentionSelection",required:!0,type:{name:"(user: UserDigestMiniUser) => void"}},mentionUsers:{defaultValue:null,description:"",name:"mentionUsers",required:!0,type:{name:"UserDigestMiniUser[]"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Editor/MentionUserList/index.tsx#MentionUserList"]={docgenInfo:MentionUserList_MentionUserList.__docgenInfo,name:"MentionUserList",path:"src/components/Editor/MentionUserList/index.tsx#MentionUserList"})}catch(__react_docgen_typescript_loader_error){}var Comment_jsx=react_default.a.createElement;__webpack_exports__.default=function CommentEditor(_ref){var content=_ref.content,update=_ref.update,placeholder=_ref.placeholder,_useLazyQuery=Object(react_hooks_esm.b)(searchUsers),_useLazyQuery2=slicedToArray_default()(_useLazyQuery,2),search=_useLazyQuery2[0],_useLazyQuery2$=_useLazyQuery2[1],data=_useLazyQuery2$.data,loading=_useLazyQuery2$.loading,lang=Object(react.useContext)(LanguageContext.b).lang,mentionUsers=((null==data?void 0:data.search.edges)||[]).map((function(_ref2){return _ref2.node}));return Comment_jsx(react_default.a.Fragment,null,Comment_jsx(index_es.a,{editorContent:content,editorUpdate:update,eventName:events.a,language:lang,mentionLoading:loading,mentionKeywordChange:function mentionKeywordChange(keyword){search({variables:{search:keyword,exclude:"blocked"}})},mentionUsers:mentionUsers,mentionListComponent:Editor_MentionUserList,readOnly:!1,theme:"bubble",texts:placeholder?{COMMENT_PLACEHOLDER:placeholder}:{}}),Comment_jsx(style_default.a,{id:quill_bubble.__hash},quill_bubble),Comment_jsx(style_default.a,{id:content_comment.a.__hash},content_comment.a))};try{Comment.displayName="Comment",Comment.__docgenInfo={description:"",displayName:"Comment",props:{content:{defaultValue:null,description:"",name:"content",required:!0,type:{name:"string"}},update:{defaultValue:null,description:"",name:"update",required:!0,type:{name:"(params: { content: string; }) => void"}},placeholder:{defaultValue:null,description:"",name:"placeholder",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Editor/Comment/index.tsx#Comment"]={docgenInfo:Comment.__docgenInfo,name:"Comment",path:"src/components/Editor/Comment/index.tsx#Comment"})}catch(__react_docgen_typescript_loader_error){}}}]);